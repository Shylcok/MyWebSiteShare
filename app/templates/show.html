{% extends "base.html" %}
{% block head %}
    {{ super() }}
    <style type="text/css">
        table.hovertable {
            font-family: verdana, arial, sans-serif;
            font-size: 11px;
            color: #333333;
            border-width: 1px;
            border-color: #999999;
            border-collapse: collapse;
        }

        table.hovertable th {
            background-color: #c3dde0;
            border-width: 1px;
            padding: 8px;
            border-style: solid;
            border-color: #a9c6c9;
        }

        table.hovertable tr {
            background-color: #d4e3e5;
        }

        table.hovertable td {
            border-width: 1px;
            padding: 8px;
            border-style: solid;
            border-color: #a9c6c9;
        }
    </style>
{% endblock %}



{% block title %}TODO LIST - 分享平行世界{% endblock %}
{% block page_content %}
    <div class="page-header">
        <h1>待办列表</h1>
        <table class="hovertable">
            <tr>
                <th>id</th>
                <th>标题</th>
                <th>类别</th>
                <th>创建时间</th>
                <th>是否完成</th>
            </tr>

            {% for event in events %}
                <tr>
                    <td>{{ event.id }}</td>
                    <td>{{ event.title }}</td>
                    <td>{{ event.category }}</td>
                    <td>{{ moment(event.create_time).format('LLL') }}</td>
                    {% if not event.completion %}
                        <td>未完成</td>
                        <td>
                            <button class="btn btn-info btn-sm"
                                    onclick="window.location.href='{{ url_for('todo.finish',id=event.id) }}'">
                                完成
                            </button>
                        </td>
                    {% else %}
                        <td>完成</td>
                    {% endif %}
                    <td>
                        <button class="btn btn-info btn-sm"
                                onclick="window.location.href='{{ url_for('todo.edit_event',id=event.id) }}'">
                            编辑
                        </button>
                    </td>
                    <td>
                        <button class="btn btn-info btn-sm"
                                onclick="window.location.href='{{ url_for('todo.delete_event',id=event.id) }}'">
                            删除
                        </button>
                    </td>
                </tr>
            {% endfor %}
        </table>


        <br>
        <button class="btn btn-info btn-sm"
                onclick="window.location.href = '{{ url_for('todo.add_event') }}'">添加事件
        </button>
        <button class="btn btn-info btn-sm"
                onclick="window.location.href = '{{ url_for('todo.add_category') }}'">添加类别
        </button>
    </div>
{% endblock %}